{% extends 'home.html' %}
{% block content %}

{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gesti贸n de Inventario</title>
    <link rel="stylesheet" href="{% static 'css/formulario.css' %}">
  </head>
  <body>
    <div>
      <button id="material-btn" class="btn btn-primary">Gesti贸n de Material</button>
      <button id="corte-btn" class="btn btn-primary">Gesti贸n de Corte</button>
      <button id="producto-btn" class="btn btn-primary">Gesti贸n de Producto</button>
  </div>
  
  <div id="form-container" class="container mt-4">
      <table class="table">
          <form id="inventory-form" method="post" onsubmit="return validateForm()">
              {% csrf_token %}
              <tr>
                  <td><label for="docEmpleado" class="form-label">Empleado</label></td>
                  <td>{{form.docEmpleado}}</td>
              </tr>
              <tr class="hidden producto-fields">
                  <td><label for="flujoSatelite" class="form-label">Satelite</label></td>
                  <td>{{form.flujoSatelite}}</td>
              </tr>
              <tr class="hidden material-fields">
                  <td><label for="proveedorFlujo" class="form-label">Proveedor</label></td>
                  <td>{{form.proveedorFlujo}}</td>
              </tr>
              <tr class="hidden material-fields">
                  <td><label for="materialFlu" class="form-label">Material</label></td>
                  <td>{{form.materialFlu}}</td>
              </tr>
              <tr class="hidden corte-fields">
                  <td><label for="flujoSatelite" class="form-label">Satelite</label></td>
                  <td>{{form.flujoSatelite}}</td>
              </tr>
              <tr class="hidden corte-fields">
                  <td><label for="flujoCorte" class="form-label">Corte</label></td>
                  <td>{{form.flujoCorte}}</td>
              </tr>
              <tr class="hidden corte-fields">
                  <td><label for="insumos" class="form-label">Insumos</label></td>
                  <td>{{form.insumos}}</td>
              </tr>
              <tr class="hidden producto-fields">
                  <td><label for="flujoProducto" class="form-label">Producto</label></td>
                  <td>{{form.flujoProducto}}</td>
              </tr>
              <tr>
                  <td><label for="flujo" class="form-label">Flujo</label></td>
                  <td>{{form.flujo}}</td>
              </tr>
              <tr class="hidden producto-fields">
                  <td><label for="cantidadFlujo" class="form-label">Cantidad</label></td>
                  <td><input type="number" class="form-control" id="cantidadFlujo" name="cantidadFlujo" /></td>
              </tr>
              <tr class="hidden material-fields">
                <td><label for="cantidadFlujo" class="form-label">Cantidad</label></td>
                <td><input type="number" class="form-control" id="cantidadFlujo" name="cantidadFlujo" /></td>
              </tr>
              <tr>
                  <td colspan="2">
                      <button type="submit" class="btn btn-primary">Guardar</button>
                      <a href="{% url 'registrarCorte' %}" class="btn btn-info hidden corte-fields">Registrar Corte</a>
                  </td>
              </tr>
          </form>
      </table>
  </div>
  
    <script>
      function validateForm() {
        const materialBtn = document.getElementById("material-btn");
        const corteBtn = document.getElementById("corte-btn");
        const productoBtn = document.getElementById("producto-btn");

        materialBtn.addEventListener("click", () => {
          materialBtn.classList.add("active");
          corteBtn.classList.remove("active");
          productoBtn.classList.remove("active");

          materialFields.forEach((field) => field.classList.remove("hidden"));
          corteFields.forEach((field) => field.classList.add("hidden"));
          productoFields.forEach((field) => field.classList.add("hidden"));
        });

        corteBtn.addEventListener("click", () => {
          materialBtn.classList.remove("active");
          corteBtn.classList.add("active");
          productoBtn.classList.remove("active");

          materialFields.forEach((field) => field.classList.add("hidden"));
          corteFields.forEach((field) => field.classList.remove("hidden"));
          productoFields.forEach((field) => field.classList.add("hidden"));
        });

        productoBtn.addEventListener("click", () => {
          materialBtn.classList.remove("active");
          corteBtn.classList.remove("active");
          productoBtn.classList.add("active");

          materialFields.forEach((field) => field.classList.add("hidden"));
          corteFields.forEach((field) => field.classList.add("hidden"));
          productoFields.forEach((field) => field.classList.remove("hidden"));
        });
      }
      const materialFields = document.querySelectorAll(".material-fields");
      const corteFields = document.querySelectorAll(".corte-fields");
      const productoFields = document.querySelectorAll(".producto-fields");

      const materialBtn = document.getElementById("material-btn");
      const corteBtn = document.getElementById("corte-btn");
      const productoBtn = document.getElementById("producto-btn");

      materialBtn.addEventListener("click", () => {
        materialFields.forEach((field) => field.classList.remove("hidden"));
        corteFields.forEach((field) => field.classList.add("hidden"));
        productoFields.forEach((field) => field.classList.add("hidden"));
      });

      corteBtn.addEventListener("click", () => {
        materialFields.forEach((field) => field.classList.add("hidden"));
        corteFields.forEach((field) => field.classList.remove("hidden"));
        productoFields.forEach((field) => field.classList.add("hidden"));
      });

      productoBtn.addEventListener("click", () => {
        materialFields.forEach((field) => field.classList.add("hidden"));
        corteFields.forEach((field) => field.classList.add("hidden"));
        productoFields.forEach((field) => field.classList.remove("hidden"));
      });
    </script>
  </body>
</html>

{% endblock %}